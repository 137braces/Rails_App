<%= render 'users/left_partial' %>
     <div class="main-contents">
         <div class="message-contents">
        <div style="margin-left:1%;">
            <% @entries.includes([:user]).each do |e| %>
               <!-- eachで回したentryユーザーがログインユーザーであれば、@classに"current_user"の文字列を代入する。ログインユーザーであれば、空白を代入する -->
                <% current_user == e.user ? @class = "current_user" : @class = ""  %>
                   <!-- eachで回したentryユーザーがログインユーザーでなければ、entryユーザー名を表示する -->
                    <% if e.user != current_user %>
                       <h5 class="text-left <%= @class %>" id="<%= @class %>" style="font-size: 30px;" data-id="<%= e.user.id %>"><%= link_to "@#{e.user.name}", user_path(e.user_id) %></h5>
                    <% else %>
                       <h5 class="text-left <%= @class %>" id="<%= @class %>" data-id="<%= e.user.id %>"></h5>
                    <% end %>
            <% end %>
        <!-- メッセージ内容は、パーシャルにします -->
            <div id="messages" data-room_id="<%= @room.id %>">
                <%= render "messages/message" %>
            </div>
        </div>
     </div>
        
     <div class "form-in-room">
        <div class="form-message"style="">
            <%= form_with(model: @message, remote: true) do |f| %>
                  <%= f.label :content,"新規メッセージを作成"  %>
                  <%= f.text_area :content, placeholder: "メッセージを入力して下さい" , size: 70, class:"form-text-field" %>
                  <%= f.hidden_field :room_id, value: @room.id %>
            <% end %>
        </div>
     </div>
</div>
<script>
    //トークルーム遷移時に入力フォーム記載場所にスクロールする(最新トークは下にあるため)
    let element = document.getElementById('target'); // 移動させたい位置の要素を取得
    let rect = element.getBoundingClientRect();
    let position = rect.top;
    setTimeout(() => {
    scrollTo(0, position);},
    1000)
</script>